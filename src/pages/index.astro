---
import Layout from '~/layouts/PageLayout.astro';

const metadata = {
  title: 'Book of CHADS'
};

const stories = [
  {
    id: 1,
    author: "DisperseControl",
    period: "2017-2024",
    title: "The -300K Bear Slayer",
    subtitle: "From Rekt to Revival",
    story: "When I first got started in 2017 I had a net worth of close to -$300K (negative) and could barely scrape together $200 to buy anything. Then in 2019/20 lost my job and house lol. Thanks to crypto I have pretty much flipped the entire situation in the other direction. I have a visceral hatred for bears",
    theme: "from-[#2A9D8F] to-[#264653]",
    emoji: "üó°Ô∏è"
  },
  {
    id: 2,
    author: "floatxbt",
    period: "2024",
    title: "Built Different",
    subtitle: "Never Stop The Grind",
    story: "Bro im built different, i lost every single satoshi u see here but got up everyday hungry and hunting with a positive attitude",
    theme: "from-[#E9C46A] to-[#F4A261]",
    emoji: "‚öîÔ∏è"
  },
  {
    id: 3,
    author: "c0gnate",
    period: "2015",
    title: "The Generous Tipper",
    subtitle: "When Bitcoin Was Young",
    story: "in 2015 one of my homies ordered me 1/2oz of weed on darkweb, i gave him like $220 to buy 1 BTC. the order came to like 0.8BTC and i just said keep the change cos i had no idea keke... the weed was chronic tho tbh",
    theme: "from-[#ffc131] to-[#E63946]",
    emoji: "üåø"
  }
];

const reversedStories = [...stories].reverse();
---

<Layout {metadata}>
  <div class="min-h-screen bg-[#F5F1E3] text-[#2C3639] overflow-hidden font-pixel">
    <!-- Cover Page -->
    <section class="min-h-screen flex flex-col items-center justify-center p-4 relative">
      <!-- Pixel Grid Background -->
      <div class="absolute inset-0 grid grid-cols-[repeat(32,1fr)] grid-rows-[repeat(32,1fr)] opacity-10">
        {Array.from({ length: 1024 }).map(() => (
          <div class="border-[0.5px] border-[#2C3639]/10"></div>
        ))}
      </div>

      <!-- Hero Section -->
      <div class="relative z-10 text-center">
        <h1 class="text-6xl md:text-8xl font-black text-[#2C3639] pixel-edges mb-8 relative">
          <span class="absolute -inset-1 bg-[#ffc131]/10"></span>
          <span class="relative">BOOK OF CHADS</span>
        </h1>
        
        <div class="max-w-2xl mx-auto mb-12 bg-white p-8 pixel-border">
          <p class="text-xl pixel-edges mb-6">
            Don't let your memes be dreams
          </p>
        </div>

        <a 
          href="#story-3"
          class="inline-block px-8 py-4 bg-[#ffc131] text-white font-bold text-xl pixel-border hover:translate-y-[-2px] hover:shadow-xl transition-all duration-200"
        >
          READ TALES
        </a>
      </div>

      <!-- Floating Pixel Art Elements -->
      <div class="absolute inset-0 overflow-hidden pointer-events-none">
        {Array.from({ length: 8 }).map((_, i) => (
          <div 
            class="absolute w-12 h-12 pixel-float"
            style={`
              top: ${Math.random() * 100}%;
              left: ${Math.random() * 100}%;
              animation: float ${5 + Math.random() * 5}s ease-in-out infinite;
              animation-delay: ${Math.random() * 5}s;
            `}
          >
            {["üí™", "üëë", "‚öîÔ∏è", "üíé", "üöÄ", "üíØ"][Math.floor(Math.random() * 6)]}
          </div>
        ))}
      </div>
    </section>

    <!-- Stories -->
    {reversedStories.map((story, index) => (
      <section
        class="min-h-screen flex items-center justify-center p-4 relative snap-start"
        id={`story-${story.id}`}
      >
        <div class="max-w-4xl w-full">
          <div class="bg-white pixel-border p-8 relative group hover:translate-y-[-4px] transition-all duration-300">
            {/* Story Header */}
            <div class="flex justify-between items-start mb-8">
              <div>
                <span class="text-5xl mb-4">{story.emoji}</span>
                <h2 class="text-3xl md:text-4xl font-bold mt-4 text-[#2C3639] pixel-edges">
                  {story.title}
                </h2>
                <p class="text-xl text-[#2C3639]/70 mt-2 pixel-edges">{story.subtitle}</p>
                <p class="text-[#2C3639]/60 mt-2 pixel-edges">{story.period}</p>
              </div>
              
              <a 
                href={`https://twitter.com/${story.author}`}
                target="_blank"
                rel="noopener noreferrer"
                class="text-xl text-[#2C3639] hover:text-[#ffc131] transition-colors pixel-edges inline-flex items-center gap-1"
              >
                <span class="text-[#ffc131]">ùïè</span>
                {story.author}
              </a>
            </div>

            {/* Story Content */}
            <div class="relative">
              <div class="absolute -left-4 top-0 bottom-0 w-1 bg-[#ffc131]/50"></div>
              <p class="text-xl md:text-2xl leading-relaxed pixel-edges">
                "{story.story}"
              </p>
            </div>

            {/* Navigation */}
            <div class="mt-12 flex justify-between text-sm pixel-edges">
              {index > 0 && (
                <a 
                  href={`#story-${reversedStories[index - 1].id}`}
                  class="pixel-button"
                >
                  ‚Üê PREVIOUS TALE
                </a>
              )}
              {index < reversedStories.length - 1 && (
                <a 
                  href={`#story-${reversedStories[index + 1].id}`}
                  class="pixel-button ml-auto"
                >
                  NEXT TALE ‚Üí
                </a>
              )}
            </div>
          </div>
        </div>
      </section>
    ))}

    <!-- Trade Button -->
    <div class="fixed bottom-4 right-4 z-50">
      <a
        href="https://www.tensor.trade/trade/chads"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-block bg-[#ffc131] text-white px-6 py-3 font-bold pixel-border hover:translate-y-[-2px] hover:shadow-xl transition-all duration-200"
      >
        BECOME A CHAD ‚Üó
      </a>
    </div>
  </div>
</Layout>

<style>
  /* Pixel Art Styles */
  .pixel-edges {
    image-rendering: pixelated;
    -webkit-font-smoothing: none;
  }

  .pixel-border {
    border: 4px solid #2C3639;
    box-shadow: 
      4px 4px 0 #2C3639,
      -4px -4px 0 rgba(44, 54, 57, 0.1);
  }

  .pixel-button {
    background: white;
    border: 2px solid #2C3639;
    padding: 0.5rem 1rem;
    color: #2C3639;
    font-weight: bold;
    transition: all 0.2s ease;
    box-shadow: 2px 2px 0 #2C3639;
  }

  .pixel-button:hover {
    transform: translate(-2px, -2px);
    box-shadow: 4px 4px 0 #2C3639;
    color: #ffc131;
  }

  .pixel-float {
    font-size: 2rem;
    opacity: 0.2;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0) rotate(0);
    }
    50% {
      transform: translateY(-20px) rotate(5deg);
    }
  }

  /* Scrollbar */
  ::-webkit-scrollbar {
    width: 12px;
  }

  ::-webkit-scrollbar-track {
    background: #F5F1E3;
    border-left: 2px solid #2C3639;
  }

  ::-webkit-scrollbar-thumb {
    background: #2C3639;
    border: 3px solid #F5F1E3;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #ffc131;
  }

  /* Smooth Scrolling */
  html {
    scroll-behavior: smooth;
    scroll-snap-type: y proximity;
  }

  section {
    scroll-snap-align: start;
  }

  @media (max-width: 768px) {
    html {
      scroll-snap-type: y proximity;
    }
  }
</style>